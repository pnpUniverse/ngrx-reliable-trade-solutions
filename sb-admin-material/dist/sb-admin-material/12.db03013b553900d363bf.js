(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{IYfF:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("67Y/"),r=n("9Z1F"),i=n("AytR"),a=n("TYT/"),c=n("cUzu"),u=n("DUip"),p=i.a.apiUrl,s=function(){function t(t,e){this.http=t,this.router=e}return t.prototype.create=function(t,e){return this.http.post(p+"c/"+e+"/create",t).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.retrieve=function(t){return this.http.get(p+"c/"+t).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.retrieveById=function(t,e){return this.http.get(p+"c/"+t+"/"+e).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.retrieveBySlug=function(t,e){return this.http.get(p+"c/"+t+"/slug/"+e).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.update=function(t,e,n){return this.http.patch(p+"c/"+e+"/"+n,t).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.delete=function(t,e){return this.http.delete(p+"c/"+t+"/"+e).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.login=function(t){return this.http.post(p+"login",t).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.register=function(t){return this.http.post(p+"register",t).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.landing_page=function(t){return this.http.post(p+"landing_page",t).pipe(Object(o.a)((function(t){return t.token&&localStorage.setItem("token",t.token),t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.listByModelName=function(t){return this.http.get(p+"c/"+t).pipe(Object(o.a)((function(t){return t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.countByModelName=function(t){return this.http.get(p+"c/"+t+"/count").pipe(Object(o.a)((function(t){return t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.createCallSet=function(t,e){return this.http.post(""+p+e,t).pipe(Object(o.a)((function(t){return t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.updateCallSet=function(t,e){return this.http.post(""+p+e,t).pipe(Object(o.a)((function(t){return t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.changeDuration=function(t,e){return this.http.get(""+p+t+"/"+e).pipe(Object(o.a)((function(t){return t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.getDuration=function(){return this.http.get(p+"get_call_duration").pipe(Object(o.a)((function(t){return t})),Object(r.a)((function(t){throw new Error(t.message)})))},t.prototype.logout=function(){localStorage.removeItem("token"),this.router.navigateByUrl("/login")},t.\u0275fac=function(e){return new(e||t)(a.Yb(c.a),a.Yb(u.c))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},oTzW:function(t,e,n){"use strict";n.r(e),n.d(e,"LandingPageModule",(function(){return y}));var o=n("Valr"),r=n("qiSS"),i=n("W/RB"),a=n("QJY3"),c=n("DUip"),u=n("IYfF"),p=n("AytR"),s=n("TYT/"),g=n("uLXW"),f=n("eHTH"),l=n("cSbt"),b=n("p+mS");function m(t,e){if(1&t&&(s.Ub(0,"span",14),s.zc(1),s.Tb()),2&t){var n=s.gc();s.Cb(1),s.Ac(n.loginError)}}function h(t,e){1&t&&s.Pb(0,"img",15),2&t&&s.lc("src",e.$implicit,s.tc)}var d=p.a.fileLocation,O=[{path:"",component:function(){function t(t,e,n){this.fb=t,this.authService=e,this.router=n,this.images=[],this.loginError="",this.filesrc=[]}return t.prototype.ngOnInit=function(){var t=this;this.buildForm(),this.authService.retrieveBySlug("home","home").subscribe((function(e){if(e&&e.data&&e.data._id){t._id=e.data._id;for(var n=0,o=e.data.banner_image_path;n<o.length;n++)t.filesrc.push(""+d);t.loginForm.patchValue({name:e.data.name,our_vision:e.data.our_vision,banner_message:e.data.banner_message,fileSource:e.data.banner_image_path})}}))},t.prototype.buildForm=function(){this.loginForm=this.fb.group({name:["",[a.n.required]],our_vision:["",[a.n.required]],banner_message:["",[a.n.required]],file:["",[a.n.required]],fileSource:["",[a.n.required]]})},Object.defineProperty(t.prototype,"f",{get:function(){return this.loginForm.value},enumerable:!0,configurable:!0}),t.prototype.onFileChange=function(t){var e=this;if(t.target.files&&t.target.files[0]){this.files=[];for(var n=t.target.files.length,o=0;o<n;o++){var r=new FileReader;r.onload=function(t){e.images.push(t.target.result),e.loginForm.patchValue({fileSource:e.images})},this.files.push(t.target.files[o]),r.readAsDataURL(t.target.files[o])}}},t.prototype.onLogin=function(){var t=this,e=new FormData;["name","our_vision","banner_message"].map((function(n){return e.append(n,t.loginForm.value[n])})),this.files.forEach((function(t){return e.append("file",t)})),this._id&&e.append("_id",this._id),this.authService.landing_page(e).subscribe((function(e){console.log("res: ",e),e.status?(t.loginError="",t._id=e._id,t.router.navigate(["/dashboard"])):t.loginError=e.message}))},t.\u0275fac=function(e){return new(e||t)(s.Ob(a.c),s.Ob(u.a),s.Ob(c.c))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-landing-page"]],decls:25,vars:4,consts:[[1,"wrapper"],[1,"content"],["fxFlex","",1,"login-form",3,"formGroup","submit"],["fxFlex","","class","text-center text-danger","style","color: #f44336;",4,"ngIf"],["fxFlex","","fxlayout","row","fxlayout.lt-md","column"],["fxFlexFill",""],[1,"w-100"],["matInput","","placeholder","Site Name","formControlName","name"],["matInput","","placeholder","Our Vision","formControlName","our_vision"],["matInput","","placeholder","Home Message","formControlName","banner_message"],["fxFlex","","fxLayout","row","fxLayout.lt-md","column"],["type","file","formControlName","file","accept","image/*","multiple","",3,"change"],["height","150","width","200px","style","margin: 3px;",3,"src",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary",1,"w-100",3,"disabled"],["fxFlex","",1,"text-center","text-danger",2,"color","#f44336"],["height","150","width","200px",2,"margin","3px",3,"src"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"form",2),s.cc("submit",(function(){return e.onLogin()})),s.yc(3,m,2,1,"span",3),s.Ub(4,"div",4),s.Ub(5,"div",5),s.Ub(6,"mat-form-field",6),s.Pb(7,"input",7),s.Tb(),s.Tb(),s.Tb(),s.Ub(8,"div",4),s.Ub(9,"div",5),s.Ub(10,"mat-form-field",6),s.Pb(11,"input",8),s.Tb(),s.Tb(),s.Tb(),s.Ub(12,"div",4),s.Ub(13,"div",5),s.Ub(14,"mat-form-field",6),s.Pb(15,"input",9),s.Tb(),s.Tb(),s.Tb(),s.Ub(16,"div",10),s.Ub(17,"div",5),s.Ub(18,"input",11),s.cc("change",(function(t){return e.onFileChange(t)})),s.Tb(),s.Tb(),s.Tb(),s.yc(19,h,1,1,"img",12),s.Pb(20,"br"),s.Ub(21,"div",10),s.Ub(22,"div",5),s.Ub(23,"button",13),s.zc(24,"Save"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Cb(2),s.lc("formGroup",e.loginForm),s.Cb(1),s.lc("ngIf",""!=e.loginError),s.Cb(16),s.lc("ngForOf",e.images),s.Cb(4),s.lc("disabled",e.loginForm.invalid))},directives:[a.o,a.k,g.a,a.e,o.k,g.e,f.b,l.b,a.b,a.j,a.d,g.c,o.j,b.b],styles:['.login-page[_ngcontent-%COMP%]{height:100%;position:relative}.login-page[_ngcontent-%COMP%], .login-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.login-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:1}.login-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{margin-top:0;padding-bottom:10px;font-size:32px}.login-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{padding:40px;background:#fff;width:500px;box-shadow:0 0 10px #ddd}.login-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-box-shadow:0 0 0 30px #fff inset}.login-page[_ngcontent-%COMP%]:after{background:#fff;top:0;bottom:50%}.login-page[_ngcontent-%COMP%]:after, .login-page[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;right:0}.login-page[_ngcontent-%COMP%]:before{background:#3f51b5;top:50%;bottom:0}.text-center[_ngcontent-%COMP%]{text-align:center}.w-100[_ngcontent-%COMP%]{width:100%}']}),t}()}],w=function(){function t(){}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[c.f.forChild(O)],c.f]}),t}(),y=function(){function t(){}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[o.c,r.a.withConfig({addFlexToParent:!1}),a.f,i.a,a.m,w]]}),t}()}}]);